#!/usr/bin/env python3
"""Global launcher for the coding agent - can be run from any directory."""

import os
import sys
from pathlib import Path

# Get the directory where this script is located
script_dir = Path(__file__).parent.resolve()

# Add src to path so we can import the module
src_path = script_dir / "src"
sys.path.insert(0, str(src_path))

# Change to script directory to ensure config files are found correctly
original_cwd = Path.cwd()
os.chdir(script_dir)

try:
    from coding_agent.main import main
    main()
finally:
    # Restore original working directory (though main() likely won't return)
    os.chdir(original_cwd)